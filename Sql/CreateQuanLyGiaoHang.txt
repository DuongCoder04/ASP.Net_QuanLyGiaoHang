CREATE DATABASE QuanLyGiaoHang;
GO

USE QuanLyGiaoHang;
GO

-- Bảng KHACHHANG
CREATE TABLE KHACHHANG (
    MAKHACHHANG INT PRIMARY KEY,
    TENCONGTY NVARCHAR(100),
    TENGIAODICH NVARCHAR(100),
    DIACHI NVARCHAR(255),
    EMAIL NVARCHAR(100),
    DIENTHOAI NVARCHAR(20),
    FAX NVARCHAR(20)
);
GO
-- Bảng NHACUNGCAP
CREATE TABLE NHACUNGCAP (
    MACONGTY INT PRIMARY KEY,
    TENCONGTY NVARCHAR(100),
    TENGIAODICH NVARCHAR(100),
    DIACHI NVARCHAR(255),
    DIENTHOAI NVARCHAR(20),
    FAX NVARCHAR(20),
    EMAIL NVARCHAR(100)
);
GO
-- Bảng NHANVIEN
CREATE TABLE NHANVIEN (
    MANHANVIEN INT PRIMARY KEY,
    HO NVARCHAR(50),
    TEN NVARCHAR(50),
    NGAYSINH DATE,
    NGAYLAMVIEC DATE,
    DIACHI NVARCHAR(255),
    LUONGCOBAN DECIMAL(18, 2),
    PHUCAP DECIMAL(18, 2)
);
GO
-- Bảng LOAIHANG
CREATE TABLE LOAIHANG (
    MALOAIHANG INT PRIMARY KEY,
    TENLOAIHANG NVARCHAR(100)
);
GO
-- Bảng MATHANG
CREATE TABLE MATHANG (
    MAMATHANG INT PRIMARY KEY,
    TENHANG NVARCHAR(100),
    MACONGTY INT,
    MALOAIHANG INT,
    DONVITINH NVARCHAR(50),
    GIAHANG DECIMAL(18, 2),
    FOREIGN KEY (MACONGTY) REFERENCES NHACUNGCAP(MACONGTY),
    FOREIGN KEY (MALOAIHANG) REFERENCES LOAIHANG(MALOAIHANG)
);
GO
-- Bảng DONDATHANG
CREATE TABLE DONDATHANG (
    SOHOADON INT PRIMARY KEY,
    MAKHACHHANG INT,
    MANHANVIEN INT,
    NGAYDATHANG DATE,
    NGAYGIAOHANG DATE,
    NGAYCHUYENHANG DATE,
    NGUOIGIAOHANG NVARCHAR(50),
    FOREIGN KEY (MAKHACHHANG) REFERENCES KHACHHANG(MAKHACHHANG),
    FOREIGN KEY (MANHANVIEN) REFERENCES NHANVIEN(MANHANVIEN)
);
GO
-- Bảng CHITIETDATHANG
CREATE TABLE CHITIETDATHANG (
    SOHOADON INT,
    MAMATHANG INT,
    GIABAN DECIMAL(18, 2),
    SOLUONG INT,
    MUCGIAMGIA DECIMAL(5, 2),
    PRIMARY KEY (SOHOADON, MAMATHANG),
    FOREIGN KEY (SOHOADON) REFERENCES DONDATHANG(SOHOADON),
    FOREIGN KEY (MAMATHANG) REFERENCES MATHANG(MAMATHANG)
);
GO
